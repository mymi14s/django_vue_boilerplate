var h=(t,o,u)=>new Promise((f,a)=>{var d=l=>{try{r(u.next(l))}catch(i){a(i)}},c=l=>{try{r(u.throw(l))}catch(i){a(i)}},r=l=>l.done?f(l.value):Promise.resolve(l.value).then(d,c);r((u=u.apply(t,o)).next())});import{aV as I,_ as V,d as v,e,w as n,f as s,g as _,h as w,a as B}from"./index.js";const U=I("session",{state:()=>({user:null,is_authenticated:null,token:null,setting:null}),actions:{setUser(t){console.log(t),this.user=t.user,this.is_authenticated=t.is_authenticated},setToken(t){this.token=t},setSetting(t){this.setting=t},clearSession(){this.user=null,this.token=null},persist:!0}});U();const F={name:"Login",data(){return{message:"Hello Vue!",count:0,email:"",password:""}},props:{title:{type:String,required:!0},isVisible:{type:Boolean,default:!0}},computed:{reversedMessage(){return this.message.split("").reverse().join("")}},methods:{login(){return h(this,null,function*(){let t=yield this.$brigantes.login(this.email,this.password);sessionStorage.setItem("user",JSON.stringify(t.user)),sessionStorage.setItem("is_authenticated",t.is_authenticated?1:""),t.is_authenticated&&this.$router.push("/")})}},watch:{count(t,o){console.log(`Count changed from ${o} to ${t}`)}},beforeCreate(){console.log("beforeCreate")},created(){console.log("created")},beforeMount(){console.log("beforeMount")},beforeUpdate(){console.log("beforeUpdate")},updated(){console.log("updated")},beforeUnmount(){console.log("beforeUnmount")},unmounted(){console.log("unmounted")},components:{},directives:{},provide(){return{someService:this.someService}},inject:["someService"],mixins:[],emits:["update","submit"],mounted(){var o;(o=this.$refs.myRef)==null||o.focus(),this.$brigantes.getCSRFToken(),sessionStorage.getItem("is_authenticated")&&window.location.href.includes("/auth/login")&&router.push("/")}},G={class:"wrapper min-vh-100 d-flex flex-row align-items-center"};function T(t,o,u,f,a,d){const c=s("CIcon"),r=s("CInputGroupText"),l=s("CFormInput"),i=s("CInputGroup"),C=s("CButton"),p=s("CCol"),g=s("CRow"),x=s("CForm"),b=s("CCardBody"),S=s("CCard"),y=s("CCardGroup"),k=s("CContainer");return B(),v("div",G,[e(k,null,{default:n(()=>[e(g,{class:"justify-content-center"},{default:n(()=>[e(p,{md:8},{default:n(()=>[e(y,null,{default:n(()=>[e(S,{class:"p-4"},{default:n(()=>[e(b,null,{default:n(()=>[e(x,null,{default:n(()=>[o[4]||(o[4]=_("div",{class:"text-center"},[_("h1",null,"Login"),_("p",{class:"text-body-secondary"},"Sign In to your account")],-1)),e(i,{class:"mb-3"},{default:n(()=>[e(r,null,{default:n(()=>[e(c,{icon:"cil-user"})]),_:1}),e(l,{placeholder:"Email",autocomplete:"email",modelValue:a.email,"onUpdate:modelValue":o[0]||(o[0]=m=>a.email=m),type:"email",required:""},null,8,["modelValue"])]),_:1}),e(i,{class:"mb-4"},{default:n(()=>[e(r,null,{default:n(()=>[e(c,{icon:"cil-lock-locked"})]),_:1}),e(l,{type:"password",placeholder:"Password",autocomplete:"current-password",modelValue:a.password,"onUpdate:modelValue":o[1]||(o[1]=m=>a.password=m)},null,8,["modelValue"])]),_:1}),e(g,null,{default:n(()=>[e(p,{xs:6},{default:n(()=>[e(C,{color:"primary",class:"px-4",onClick:d.login},{default:n(()=>o[2]||(o[2]=[w(" Login ")])),_:1,__:[2]},8,["onClick"])]),_:1}),e(p,{xs:6,class:"text-right"},{default:n(()=>[e(C,{color:"link",class:"px-0"},{default:n(()=>o[3]||(o[3]=[w(" Forgot password? ")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1,__:[4]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const N=V(F,[["render",T]]);export{N as default};
//# sourceMappingURL=Login2.js.map
